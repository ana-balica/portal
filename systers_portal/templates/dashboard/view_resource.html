{% extends "dashboard/base.html" %}
{% load dashboard_extras %}
{% load guardian_tags %}
{% block title %}Resource{% endblock %}
{% block content %}
<div>
  <h3>Resource</h3>
  <div>
    {% for name, value in resource.get_fields %}
      {% with "id slug community is_public tags" as unnecessary_fields %}
        {% if value and name not in unnecessary_fields %}
          <p>{% verbose_name resource name %}: {{ value|urlize }}</p>
        {% endif %}
      {% endwith %}
    {% endfor %}
    {% if resource.tags.all %}
      <p>Tags</p>
      <ul>
        {% for tag in resource.tags.all %}
          <li>{{ tag.name }} </li>
        {% endfor %}
      </ul>
    {% endif %}
    {% if user.is_authenticated and user.is_active %}
    {% get_obj_perms request.user for resource.community as "community_perms" %}
    {% if "change_community_resource" in community_perms %}
    <a href="{% url 'edit_resource' resource.community.slug  resource.slug %}">Edit</a>
    {% endif %}
    {% if "delete_community_resource" in community_perms %}
    <a href="{% url 'delete_resource' resource.community.slug  resource.slug %}">Delete</a>
    {% endif %}
    {% endif %}
  </div>
</div>
{% endblock %}


